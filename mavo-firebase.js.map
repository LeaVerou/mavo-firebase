{"version":3,"sources":["./src/mavo-firebase.js"],"names":["$","window","Bliss","Mavo","Backend","register","Class","extends","id","constructor","databaseUrl","_this","this","mavo","config","getPermissions","attr","split","include","firebase","then","initUsingAttributes","test","apiKey","element","getAttribute","authDomain","databaseURL","storageBucket","error","apps","length","app","initializeApp","concat","default","options","statusChangesCallbacks","unauthenticatedPermissionsAttr","authenticatedPermissions","unauthenticatedPermissions","includes","defaultPermissions","authenticated","unauthenticated","permissions","on","db","database","ref","storage","upload","file","child","name","Date","now","put","getDownloadURL","auth","onAuthStateChanged","user","off","username","email","displayName","avatar","photoURL","message","serverPushAttr","setListenForChanges","onStatusChange","callback","_this2","push","listeningOnStatus","snap","forEach","val","bool","_this3","listeningForChanges","snapshot","doc","compareDocRevs","_rev","rev","onNewData","data","render","load","_this4","once","store","_this5","Promise","resolve","storeData","unsavedChanges","storing","_this6","transaction","currentData","Number","isInteger","Object","assign","login","_this7","ready","provider","GoogleAuthProvider","signInWithPopup","catch","reject","logout","_this8","signOut","docA","docB","static","url"],"mappings":"AAAA,cAEA,WACE,IAAIA,EAAIC,OAAOC,MACXC,EAAOF,OAAOE,KAClBA,EAAKC,QAAQC,SAASL,EAAEM,MAAM,CAC5BC,QAASJ,EAAKC,QACdI,GAAI,WACJC,YAAa,SAAqBC,GAChC,IAAIC,EAAQC,KAERJ,EAAKI,KAAKC,KAAKL,IAAM,OACrBM,EAAS,GA2Gb,SAASC,EAAeC,GACtB,OAAIA,EACKA,EAAKC,MAAM,OACA,KAATD,EACF,QADF,EA7GThB,EAAEkB,QAAQjB,OAAOkB,SAAU,wDAAwDC,KAAK,WACtFT,EAAMQ,SAAWlB,OAAOkB,SACxB,IAAIE,EAAsB,kCAAkCC,KAAKZ,GAEjE,GAAIW,EAAqB,CAQvB,KAPAP,EAAS,CACPS,OAAQZ,EAAME,KAAKW,QAAQC,aAAa,uBACxCC,WAAYf,EAAME,KAAKW,QAAQC,aAAa,2BAC5CE,YAAajB,EACbkB,cAAejB,EAAME,KAAKW,QAAQC,aAAa,gCAGrCF,OACV,OAAOZ,EAAME,KAAKgB,MAAM,mDAIrBlB,EAAMQ,SAASW,KAAKC,OAGvBpB,EAAMqB,IAAMrB,EAAMQ,SAASc,cAAcnB,EAAQ,MAAMoB,OAAOvB,EAAMQ,SAASW,KAAKC,SAFlFpB,EAAMqB,IAAMrB,EAAMQ,SAASc,cAAcnB,OAItC,CAIL,KAFAA,EAASH,EAAMQ,SAASgB,QAAQH,MAAMI,SAE1Bb,OACV,OAAOZ,EAAME,KAAKgB,MAAM,wCAG1BlB,EAAMqB,IAAMrB,EAAMQ,SAASgB,QAG7BxB,EAAM0B,uBAAyB,GAE/B,IAAIC,EAAiC3B,EAAME,KAAKW,QAAQC,aAAa,kCAIjEc,EAA2BxB,EAFIJ,EAAME,KAAKW,QAAQC,aAAa,kCAEY,CAAC,OAAQ,OAAQ,MAAO,SAAU,OAAQ,UAGrHe,EAA6BzB,EAAeuB,GAEhD,GAAIE,GACF,IAAK1B,EAAOY,YAAcc,EAA2BC,SAAS,SAC5D,OAAIpB,EACKV,EAAME,KAAKgB,MAAM,wFAEjBlB,EAAME,KAAKgB,MAAM,qGAK1BW,EADE1B,EAAOY,WACoB,CAAC,OAAQ,SAET,CAAC,QAIlCf,EAAM+B,mBAAqB,CACzBC,cAAeJ,EACfK,gBAAiBJ,GAGnB7B,EAAMkC,YAAYC,GAAGnC,EAAM+B,mBAAmBE,iBAE9CjC,EAAMoC,GAAKpC,EAAMqB,IAAIgB,WAAWC,IAAIzC,GAGhCM,EAAOc,gBACTjB,EAAMuC,QAAUvC,EAAMqB,IAAIkB,UAAUD,IAAIzC,GAExCG,EAAMwC,OAAS,SAAUC,GACvB,IAAIH,EAAMrC,KAAKsC,QAAQG,MAAM,GAAGnB,OAAOkB,EAAKE,KAAM,KAAKpB,OAAOqB,KAAKC,QACnE,OAAOP,EAAIQ,IAAIL,GAAMhC,KAAK,WACxB,OAAO6B,EAAIS,qBAMjB/C,EAAMqB,IAAI2B,OAAOC,mBAAmB,SAAUC,GACvCA,IAILlD,EAAMkC,YAAYiB,IAAInD,EAAM+B,mBAAmBE,iBAAiBE,GAAGnC,EAAM+B,mBAAmBC,eAE5FhC,EAAMkD,KAAO,CACXE,SAAUF,EAAKG,MACfV,KAAMO,EAAKI,YACXC,OAAQL,EAAKM,YAEd,SAAUtC,GACXlB,EAAME,KAAKgB,MAAM,aAAeA,EAAMuC,WAIxC,IAAIC,EAAiB1D,EAAME,KAAKW,QAAQC,aAAa,kBAE9B,OAAnB4C,GAA8C,UAAnBA,GAC7B1D,EAAM2D,qBAAoB,MAYhCC,eAAgB,SAAwBC,GACtC,IAAIC,EAAS7D,KAEbA,KAAKyB,uBAAuBqC,KAAKF,GAE7B5D,KAAK+D,oBAIT/D,KAAK+D,mBAAoB,EACzB/D,KAAKoB,IAAIgB,WAAWC,IAAI,mBAAmBH,GAAG,QAAS,SAAU8B,GAC/DH,EAAOpC,uBAAuBwC,QAAQ,SAAUL,GAC9C,OAAOA,EAASI,EAAKE,aAI3BR,oBAAqB,SAA6BS,GAChD,IAAIC,EAASpE,KAETmE,EACGnE,KAAKqE,qBACRrE,KAAKmC,GAAGD,GAAG,QAAS,SAAUoC,GAC5B,IAAIC,EAAMD,EAASJ,MAIP,IAFRE,EAAOI,eAAe,CACxBC,KAAML,EAAOM,KACZH,KAIHH,EAAOM,IAAMH,EAAIE,KAEjBL,EAAOO,UAAUJ,MAIrBvE,KAAKmC,GAAGe,MAGVlD,KAAKqE,oBAAsBF,GAE7BQ,UAAW,SAAmBC,GAC5B,OAAO5E,KAAKC,KAAK4E,OAAOD,IAE1BE,KAAM,WACJ,IAAIC,EAAS/E,KAEb,OAAOA,KAAKmC,GAAG6C,KAAK,SAASxE,KAAK,SAAU8D,GAC1C,IAAIM,EAAON,EAASJ,MAEpB,OAAKU,GAKLG,EAAOL,IAAME,EAAKH,MAAQ,EACnBG,IALLG,EAAOL,IAAM,EACN,OAObO,MAAO,SAAeL,GACpB,IAAIM,EAASlF,KAGb,OAAOmF,QAAQC,UAAU5E,KAAK,WAG5B,GAFA0E,EAAOG,UAAYT,EAEdM,EAAOjF,KAAKqF,iBAAkBJ,EAAOK,QAK1C,OADAL,EAAOK,SAAU,EACVL,EAAOrC,MAAMrC,KAAK,WACvB0E,EAAOK,SAAU,OAIvB1C,IAAK,SAAa+B,GAChB,IAAIY,EAASxF,KAKb,OAHA4E,EAAO5E,KAAKqF,WAAaT,SAClB5E,KAAKqF,UAELrF,KAAKmC,GAAGsD,YAAY,SAAUC,GAOnC,OALEF,EAAOd,IADLgB,GACWC,OAAOC,UAAUF,EAAYjB,MAAQiB,EAAYjB,KAAO,EAExD,EAGRoB,OAAOC,OAAOlB,EAAM,CACzBH,KAAMe,EAAOd,QAEdlE,KAAK,WACN,GAAIgF,EAAOH,UACT,OAAOG,EAAO3C,SAIpBkD,MAAO,WACL,IAAIC,EAAShG,KAEb,OAAOA,KAAKiG,MAAMzF,KAAK,WACrB,IAAIwF,EAAO/C,KAAX,CAIA,IAAIiD,EAAW,IAAIF,EAAOzF,SAASwC,KAAKoD,mBACxC,OAAOH,EAAO5E,IAAI2B,OAAOqD,gBAAgBF,GAAUG,MAAM,SAAUpF,GAGjE,OAFA+E,EAAO/F,KAAKgB,MAAM,aAAeA,EAAMuC,SAEhC2B,QAAQmB,OAAOrF,SAI5BsF,OAAQ,WACN,IAAIC,EAASxG,KAEb,OAAOA,KAAKoB,IAAI2B,OAAO0D,UAAUjG,KAAK,WAEpCgG,EAAOvE,YAAYiB,IAAIsD,EAAO1E,mBAAmBC,eAAeG,GAAGsE,EAAO1E,mBAAmBE,mBAC5FqE,MAAM,SAAUpF,GACjBuF,EAAOvG,KAAKgB,MAAM,aAAeA,EAAMuC,YAG3CgB,eAAgB,SAAwBkC,EAAMC,GAE5C,OAAKD,GAASf,OAAOC,UAAUc,EAAKjC,MAI/BkC,GAAShB,OAAOC,UAAUe,EAAKlC,MAIhCiC,EAAKjC,OAASkC,EAAKlC,KACd,EAGFiC,EAAKjC,KAAOkC,EAAKlC,KAAO,GAAK,GAP1B,EAJD,GAaXmC,OAAQ,CACNlG,KAAM,SAAcmG,GAClB,MAAO,6CAA6CnG,KAAKmG,QA3QjE"}